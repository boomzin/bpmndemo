[Тестовое задание  - Media-tel](https://github.com/boomzin/mediateltesttask)

Приложение принимает REST-подобный HTTP запрос в параметрах которого передаются название города (например "Moscow") и код страны (например "ru").
В ответ пользователь приложения получает уникалдьный id процесса, запущенного запросом.
Во время выполнения процесса осуществляется поиск в базе данных прогнозов погоды, если необходимые данные не найдены в базе данных
программа отсылает запрос к сервису API OpenWeatherMap: http://openweathermap.org/api с запросом на получение недостающих данных. 
Обновленные данные о погоде записываются в базу данных.
В результате успешного выполнения процесса генерируется результат сождержащий текущую температуру и минимальную температуру из прогнозируемых за три дня.
Текущей температурой считается самая последняя температура в ретроспективе трех часов от момента страта процесса.
Этот параметр может быть изменен в файле `application.properties`.
Если данные о погоде не могут быть получены генерируется результат содержащий краткое описание ошибки.
Результат процесса заносится в базу и может быть получен дополнительным запросом в параметрах которого необходимо указать ранее полученный id.
Приложение самодостаточное, запускаться из командной строки и не требует отдельно установленных servlet контейнеров, application серверов и т.п.

Приложение построено с использованием Spring Boot и Camunda

#### База данных Postgress в памяти с таблицами:
- **CityForecast** - хранит сущности прогнозов
    - соответствует классу `CityForecast.class`, хранит информацию: название города, код страны, координаты города, прогноз погоды и время этого прогноза.
- **Response** - хранит сущности результатов с данными о температурах
    - соответствует классу `Response.class`, хранит информацию: текущая температура и минимальная прогнозируемая за три дня.
- **ErrorFetching** - хранит сущности с информацией о неудачном получении данных от погодного сервиса
    - соответствует классу `ErrorFetching`, хранит информационное сообщение об ошибке.

Порядок запуска из репозитория:
<pre>
git clone https://github.com/boomzin/bpmndemo
cd bpmndemo/
./gradlew dbDockerImage assemble
java -jar ./build/libs/demo-0.0.1-SNAPSHOT.jar 
</pre>

#### После запуска будут доступны три endpoint
#### 1. Веб интерфейс camunda:
<pre>http://localhost:8086</pre>
login     demo

password  demo
#### 2. Ендпоинт для запроса температур:
<pre>http://localhost:8086/temperature</pre>
Пример запроса:
<pre>http://localhost:8086/temperature?cityName=moscow&countryCode=ru</pre>
Пример ответа:
<pre>32a1bba0-e361-443d-a6e8-bc72e0b23ca3</pre>
#### 3. Ендпоинт для запроса результатов реботы процесса:
<pre>http://localhost:8086/response</pre>
Пример запроса:
<pre>http://localhost:8086/response?uniqueId=37740fb1-efca-4b11-b77f-793be2d3ebe6</pre>
Пример ответа:
<pre>{
    "currentTemperature": 268.07,
    "forecastedMinTemp": 266.56
}</pre>



